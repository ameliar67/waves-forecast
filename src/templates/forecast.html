<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Wave Forecast</title>
    <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='styles/styles.css') }}">
</head>

<body>

    <div class="main-container">

        <h1>Welcome to Wave Forecast</h1>

        <p>Weather Station Location: {{ location }}</p>

        <form action="/forecast.html" method="post">

            <label for="location">Choose a weather station:</label>

            <select name="location" id="location-list">
              <option value="location">Location</option>
            </select>

            <br><br>

            <input type="submit" value="Submit">

          </form>

        <p>Current Wave Height: </p>

        <p class="current-wave-height">{{ current_wave_height }} feet</p>

        <img src="data:image/png;base64, {{ plot_url }}">

    </div>

    <script>
      let select = document.getElementById("location-list")
      let locations = "{{locations}}".split(", &#")

      for(let i = 1; i < locations.length; i+=2)  {
        let el = document.createElement("option");
        el.textContent = locations[i].slice(3, -5);
        el.value = locations[i].slice(3, -5);
        select.appendChild(el);
      }
    </script>

</body>

</html>
